extends layout

block content
    .main.container
        // HEADER AND ACTIVITY COUNT
        .jumbotron.text-center
            h1
                | There are
                span.label.label-info=  activityCount
                |  activities in your project
            a.btn.btn-primary.btn-danger(href="/erase" role="button") Delete all

        div.container
            table.col-md-12.table
                thead
                    tr
                        th Activity description
                        th Optimistic Time
                        th Most Likely Time
                        th Pessimistic Time
                        th Depends on
                        th
                tbody
                    tr
                        form(name='Activities', id='Activities', action="/" method="post")
                            td
                                input(type='text', id='description', name="description" )
                            td
                                input(type='number', id='OT', name="OT" )
                            td
                                input(type='number', id='MLT', name="MLT")
                            td
                                input(type='number', id='PT', name="PT")
                            td
                                //todo : select(multiple) to enable multiple options
                                select(name='parent' form='Activities')
                                    option(value = '')
                                    each activity in activities
                                        option(value=activity.description)= activity.description
                            td
                                button(type="submit").ui.blue "Add"
            table.col-md-12.table.table-striped.table-hover
                thead
                    tr
                        th.col-md-1 #ID
                        th.col-md-2
                            label(for="description") Activity
                        th.col-md-1
                            label(for="OT") Optimistic
                        th.col-md-1
                            label(for="MLT") Most Likely
                        th.col-md-1
                            label(for="PT") Pessimistic
                        th.col-md-1(id="ET") Expected
                        th.col-md-2 Depends on
                        th.col-md-2 Options

                tbody
                    each activity in activities
                        tr
                            td(scope='row')= activity.id
                            td= activity.description
                            td= activity.OT
                            td= activity.MLT
                            td= activity.PT
                            td= (parseFloat(activity.ET)).toFixed(2)
                            td= activity.parent
                            td
                                a(href='/edit?activity='+activity.description) Edit
                                // todo: cypher set
                                |  |
                                a(href='/delete?activity='+activity.description) Delete
                                    // todo : cypher delete